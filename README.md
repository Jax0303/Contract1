개발일지(?)
-------------------------10/11-------------------------

코랩 

-> api요청 서버를 예시로 들어놨음 

-> 응답 성공 시 데이터를 json형식으로 파싱하여 출력 

파이참(우분투) 

-> fast api 생성 

-> cors 미들웨어 생성 

-> 구글 스프레드시트 데이터 가져옴(해결 )

-> 성공적으로 가져오면 json 형식으로 응답, 오류 발생 시 오류메시지 반환

현재 상황 :Host시트를 서버화 시켜서 작성한 데이터를 불러오는 것 까지 성공(hostAPI)까지

깃에 푸시해놧음 

목표 : Game시트도 일단 서버화를 시켜야할듯? 

의문점 : 

	1.일단 데이터를 올려놓고 수도코드의 조건으로 필요한 데이터를 끄집어내는 형식을 
 
	원하는데 이게 맞는 방식인지
 
	2. 저렇게 될려면 일단 모든 데이터(추가할 키워드 포함)를 json화 시켜야하는것 아닌가? 

---------------------10/14--------------------------

-> 시트 기반 데이터 아이디어 폐기, 사유 : 너무 귀찮음 

-> 방송 자막 분석 기능, 스포일러 및 금지 키워드 검사, 위법 내용 검사 추가

-> AI 기반 분석 추가, 방송 길이 조건 검사 추가 

미구현 기능 : 

실제 방송 메타데이터 추출

실제 방송 자막 또는 음성 데이터 분석 

AI 기반 스포일러 탐지 기능 

JWT 인증 토큰 발급 경로 

외부 API 연동

의문점 : 해당 API가 없다면 하드코딩 해야되는지, 대안은 없는지 찾아볼 것

---------------------10/15--------------------------

주요 미구현 부분
- DAO : DAO서버가 구현되어야 실질적 통신 가능 
- IPFS : 실제 IPFS 노드나 API가 구현되어야 실제 통신 로직 및 데이터 저장 가능
- 블록체인 : 블록체인 기반 수익 분배를 위한 노드 및 스마트 계약 
- 스마트 계약 : 실게 구현 및 블록체인 네트워크 연결  
- 블록체인 기반 모니터링
- 외부 API 통신은 정의만 되어있음

---------------------10/16--------------------------
- ipfs -> pds, 로직의 차이 파악 
- 일단은 변수명만 바꿔놨음 12:30
- JWT -> DID
일단은 PDS가 실제 API말고 로직API에서 구동되게 
 -> 위반 사항 및 분석 결과를 PDS에 저장되게 하고, 고유 ID값을 반환하게 했는데 이거맞음?
 -> 아니면 전자 계약서의 계약 내용을/도 저장해야 하는건지?
  
---------------------10/17--------------------------

- 방송 전에 사전에 계약 조건을 FIX하는 DSL 계약서를 
게임 ID기준으로 PDS에서 저장/불러오는게 목표  
- 사용자 인증은 JWT 사용할 것 
- 로컬 PDS는 나중에 실제 PDS 서버로 구축해야함 
        -> IsFree 조건 넣어서 구현
- OBS 에 위반 여부를 실시간으로 알려줘야 함  
- 개발 시 불러올 가이드라인에 해당하는 API는 나중에 개발(우선X) 
- 정산 분배 부분은 아직 생각 x 
- 11/30까지 백엔드,( 화면구성방식 생각해보기 ) 프론트엔드 끝나면 좋겠음. 12월 첫째주, 시연 영상, 3주차 부터 LLM 모델 개발 들어갈듯 
---------------------10/18--------------------------

사용자 정보 입력 - 검증 -해싱 구현 완료 
- 처음에 username, pw 입력 시 해당 사용자 정보가 postgredb에 저장, jwt토큰 발행
- 이 토큰을 복사해서 다음 요청 시 사용 가능 
- GET /users/me 엔드포인트로 이동하여 인증된 사용자 정보 조회 가능 
- 게임 id 기준 매핑 -> 계약서 작성시 랜덤 8자리 고유번호 발급, 이를 매핑 하여 저장 &조회
- 
  ■■■■■■■■■■■■■■■■■■■■
  남은 목표   ■■■■■■■■■■■■■■■■■■■■■■■
  
  **1.서버 확장, HTTPS 설정 -> 실서비스 환경 구축 **
  
  **2. PDS DB 백업 및 복구 구현**
  
  **3. 프론트앤드 UI 작업**
  
  ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  
---------------------10/21--------------------------

외부(호스트)에서 접속 가능하게 포트포워딩 http://192.168.46.131:8000/

외부 PDS(AWS RDS)확장, FastAPI & 확장PostgreSQL 연동(커밋내용은 오타 ㅎㅎ;;)

그 외 : 어플리케이션 실행 시 자동으로 테이블 생성, 중복되지 않게 테이블명+숫자 1씩 증가 

---------------------10/22--------------------------

계약서 작성 안하고 어플 종료 시 해당 테이블 삭제 추가 구현

JWT 부분에서 Refresh,Access 토큰 추가 (보안성)

 쿠키를 통한 토큰 요청 기능 구현 
 
PDS_ID 기준으로 매핑하는걸로 픽스할듯? 

DB는 nhn으로 해놨는데 jwt도 연동됐는지 확인할 것 

---------------------10/23--------------------------

isfree 조건 세부내용 확장 예정 (현재는 로직 명시만 되어있음)

free_conditions추가 -> isfree가 true일 때만 적용되는 무료 스트리밍 조건 

->free_conditions에는 무료 스트리밍의 세부 조건(기간, 시청자 수 제한, 비영리 사용 등)을 포함

 만약 isfree가 False라면 free_conditions(유효서 검증)는 None
 
유료일때는 어떻게 할지 생각해보기 

근데 이게 나중에 어떻게 ui가 어떻게 짜질까

- 추가 구현 방향
- 
-> 스트리밍 대시보드, 실시간 리포트
  
-> 방송 커스텀조건 불러오는 API 

----> 게임별 커스텀조건 저장 테이블, UI에서 커스텀조건 표시, 워크플로우 

-> 계약 저장 전에 시뮬레이션 

-> 사용자 역할 관리 : 관리자(모든 계약서 관리 및 모니터링) 스트리머(자신이 관련된 계약만 볼 수 있게)

로직 맞는거 확신하면 구문 위치 확인해보기

---------------------10/23--------------------------

ORM은 필요한 값만 저장 -> 무결성 보장

 RDS랑 users, contracts, game_customcondition 연결 완벽하게 완료..
 
사용자 인증/검증이 끝나야 계약서 작성하게 구현 ?

access/refresh token도 쿠키에 저장했으니까 따로 요청해서 알아야됨.(구현 끝)

-> 일단은 검증된 경우만 구현 / 근데 이 기능이 필요할까....? 솔직히 잘 모르겟음 

-> 걍 지웟음 

-> 일단 커스텀조건 api부터 해야할듯?

--------------------- 10/23 --------------------------

- ui/ux 1안 스케치
- 
- 로그 추가, 이메일 인증 및 비밀번호 재설정 api,jwt 토큰 유효성 검사, 초기화 링크 발신 이메일 일단 더미로 둠(솔직히 지금 중요한거 아니긴함, 있어야되는 기능이긴한데)
  
- contract status 스키마,API 추가, 계약 상태(완료 여부, 시간) 업데이트 기능 추가
  
점점 가까워진다

계약서 본문엔 스트리머 '개인'에 맞춘 조건이 제시되게 -> 애초에 공용 조건이 명시되어있으면 그게 가이드라인이니까 따로 계약을 할 이유가없으니까. 

위 '개인 조건'은 현재 체결 - 구현까지 어려운 부분이 있으니까 더미나 샘플데이터로 구현 -> 디폴트 조건을 따로 만들어서 업로드해서 사용할 수 있게 

--------------------- 10/24 --------------------------

ORM은 필요한 값만 저장 -> 무결성 보장

 RDS랑 users, contracts, game_guidelines 연결 완벽하게 완료..
 
사용자 인증/검증이 끝나야 계약서 작성하게 구현 ?

access/refresh token도 쿠키에 저장했으니까 따로 요청해서 알아야됨.(구현 끝)

-> 일단은 검증된 경우만 구현 / 근데 이 기능이 필요할까....? 솔직히 잘 모르겟음 

-> 걍 지웟음 

-> 일단 가이드라인 api부터 해야할듯

--------------------- 10/29 --------------------------

ui/ux 1안 정립

- 로그 추가, 이메일 인증 및 비밀번호 재설정 api,jwt 토큰 유효성 검사

- 초기화 링크 발신 이메일 일단 더미로 둠

 (솔직히 지금 중요한거 아니긴함, 있어야되는 기능이긴한데)

- contract status 스키마,API 추가, 계약 상태(완료 여부, 시간) 업데이트 기능 추가

점점 가까워진다

계약서 본문엔 스트리머 '개인'에 맞춘 조건이 제시되게 

-> 애초에 공용 조건이 명시되어있으면 그게 가이드라인이니까 따로 계약을 할 이유가없으니까. 

위 '개인 조건'은 현재 체결 - 구현까지 어려운 부분이 있으니까 더미나 샘플데이터로 구현 

-> 디폴트 조건을 따로 만들어서 업로드해서 사용할 수 있게

10/30 
오픈소스나 오픈 템플릿 진작좀 찾아볼걸 하

--------------------- 10/31 --------------------------

준비물 : 템플릿, fastapi, axios, react(css)

--------------------- 11/01 --------------------------

api 응답 정보에서 '구분'에 명세서의 '기능' 넣고 그 기능들 세분화해서 '정의'

입력 파라미터 확인, 계약서 조회 시 전체 조건 나오게 응답 수정, 코드도 수정 
